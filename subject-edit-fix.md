# Исправление редактирования предметов в справочнике

## Проблема
Во всплывающем окне "Редактировать предметы" во вкладке "Предметы" не было кнопки для сохранения цвета и других изменений.

## Решение

### 1. Добавлен API для обновления предметов

**Frontend (utils/api.ts):**
```typescript
export const updateSubject = async (id: string, updates: Partial<Subject>): Promise<void>
```

**Backend (server.js):**
```javascript
app.put('/api/subjects/:id', (req, res) => {
  // Динамическое обновление полей предмета
})
```

### 2. Обновлен ReferenceManager.tsx

**Импорты:**
- Добавлен импорт `updateSubject` из API

**Логика редактирования:**
- Обновлена функция `handleEdit` для правильной инициализации данных
- Добавлена поддержка редактирования предметов в `handleSubmit`
- Улучшена инициализация цвета по умолчанию

**Интерфейс:**
- Улучшен интерфейс выбора цвета с предварительным просмотром
- Обновлен текст кнопки: "Сохранить изменения" вместо "Сохранить"
- Добавлен hex-код цвета в интерфейсе

### 3. Улучшен интерфейс выбора цвета

**Новые элементы:**
- `color-input-group` - контейнер для элементов выбора цвета
- `color-picker` - стилизованный input type="color"
- `color-preview` - предварительный просмотр выбранного цвета
- `color-value` - отображение hex-кода цвета

## Функциональность

### Редактирование предметов
- ✅ Название предмета можно изменить
- ✅ Цвет предмета можно изменить через color picker
- ✅ Предварительный просмотр цвета в реальном времени
- ✅ Отображение hex-кода выбранного цвета
- ✅ Кнопка "Сохранить изменения" для сохранения

### Валидация
- ✅ Обязательные поля проверяются перед сохранением
- ✅ Цвет по умолчанию устанавливается, если не задан
- ✅ Обработка ошибок при сохранении

### API
- ✅ PUT /api/subjects/:id для обновления предметов
- ✅ Динамическое обновление только переданных полей
- ✅ Корректная обработка ошибок

## Как использовать

1. Откройте вкладку "Предметы" в справочнике
2. Нажмите кнопку "✏️" рядом с предметом для редактирования
3. Измените название или цвет предмета
4. Нажмите "Сохранить изменения"
5. Изменения сохранятся в базе данных

## Результат
✅ Теперь можно редактировать предметы в справочнике
✅ Цвет предметов можно изменять с красивым интерфейсом
✅ Все изменения сохраняются в базе данных
✅ Интерфейс интуитивно понятен и удобен
